<ion-header>
  <ion-toolbar>
    <ion-title>Cafes</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <section class="cafes_section">
    <div class="cafes_container">
      <h2>Our Cafes</h2>
      <ion-list>
        <ion-item *ngFor="let cafe of cafes; let i = index">
          <ion-thumbnail slot="start">
            <img [src]="cafe.image" />
          </ion-thumbnail>
          <ion-label>
            <h2>{{ cafe.name }}</h2>
            <p>{{ cafe.address }}</p>
            <h3>Reviews:</h3>
            <ul>
              <li *ngFor="let review of cafe.reviews">{{ review }}</li>
            </ul>
          </ion-label>
          <ion-button *ngIf="accountType === 'storeManager'" slot="end" color="danger" (click)="deleteCafe(i)">
            Delete
          </ion-button>

          <!-- Add Review Section for Customers -->
          <div *ngIf="accountType === 'customer'">
            <h3>Add a Review</h3>
            <ion-item>
              <ion-input [(ngModel)]="newReview" placeholder="Write a review"></ion-input>
            </ion-item>
            <ion-button (click)="addReview(i)" expand="block">Add Review</ion-button>
          </div>

        </ion-item>
      </ion-list>

      <!-- Add Cafe Section for Store Managers -->
      <div *ngIf="accountType === 'storeManager'">
        <h3>Add a New Cafe</h3>
        <form
          (submit)="$event.preventDefault(); addCafe('New Cafe', 'New Address', 'assets/images/cafe3.jpg')"
        >
          <ion-item>
            <ion-label position="floating">Cafe Name</ion-label>
            <ion-input placeholder="Enter cafe name"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Cafe Address</ion-label>
            <ion-input placeholder="Enter cafe address"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Upload Cafe Image</ion-label>
            <input type="file" accept="image/*" />
          </ion-item>
          <ion-button type="submit" expand="block">Add Cafe</ion-button>
        </form>
      </div>
    </div>
  </section>
</ion-content>
